<!DOCTYPE html>
<html>
  <head>
    <title>Real time sentiment analysis</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">

    <style type="text/css">
      .card {
        margin-top: 5px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="#">SignalWire Relay Sentiment Analysis demo</a>
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <video id="remoteVideo" style="width: 1px; height: 1px; background-color: #fff;"></video>
          <div id="callForm" style="display: none;">
            <form>
              <div class="form-group">
                <div class="form-group">
                  <label for="destination">Call destination</label>
                  <input type="text" class="form-control" id="destination" aria-describedby="destinationHelp" placeholder="Destination" value="+12027621401">
                  <small id="destinationHelp" class="form-text text-muted">The call destination.</small>
                </div>
                <button type="button" id="callbtn" class="btn btn-primary" onclick="doCall()">Call</button>
                <button type="button" id="hangupbtn" class="btn btn-danger" onclick="hangUp()" style="display: none;">Hang up</button>
              </div>
            </form>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Status</h5>
              <span id="status">Ready to connect.</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="output" class="container"></div>

    <script src="https://cdn.jsdelivr.net/npm/sip.js@0.15.10/dist/sip-0.15.10.min.js"></script>
    <script type="text/javascript" src="/faye/client.js"></script>
    <script type="text/javascript">
      var domain = "<%= sipDomain %>";
      var user = "<%= sipUsername %>";
      var pass = "<%= sipPassword %>";
      var app = "<%= sipApp %>";
    </script>

    <script src="/nlu.js"></script>
    <script src="/sip_client.js"></script>
  </body>
</html>